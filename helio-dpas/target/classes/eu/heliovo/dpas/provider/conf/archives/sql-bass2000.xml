<?xml version="1.0"  encoding="ISO-8859-1" ?>
<map idArchive="SQL-BASS2000" version="0.1.1">
	<structure>
		
		<links>
			<link start="DEVPROD.T_OBSERV.ID_INSTRUME" end="DEVPROD.T_INSTRUME.ID_INSTRUME" type=""/>
			<link start="DEVPROD.T_OBSERV.ID_WAVEL"    end="DEVPROD.T_WAVEL.ID_WAVEL" type=""/>
			<link start="DEVPROD.T_OBSERV.ID_FILE"     end="DEVPROD.T_FILE.ID_FILE" type=""/>
			<link start="DEVPROD.T_FILE_OBS.ID_OBS"    end="DEVPROD.T_OBSERV.ID_OBS" type=""/>
			<link start="DEVPROD.T_FILE_OBS.ID_FILE"   end="DEVPROD.T_FILE.ID_FILE" type=""/>
			<link start="DEVPROD.T_FILE.ID_DISK"       end="DEVPROD.T_DISK.ID_DISK" type=""/>
		</links>

		<!-- Can probably remove some fields from some tables which aren't needed by EGSO -->
		
		<table name="DEVPROD.T_FILE">
			<field name="ID_FILE" type="nb(35)"/>
			<field name="NAME" type="vc2(50)"/>
			<field name="FORMAT" type="vc2(10)"/>
			<field name="ACCES" type="nb(1)"/>
			<field name="ID_HOST" type="nb(10)"/>
			<field name="ID_DISK" type="nb(10)"/>
			<field name="FTP" type="vc2(50)"/>
			<field name="ID_CONTENT" type="nb(10)"/>
			<field name="ID_PHYSPARA" type="nb(10)"/>
			<field name="ID_CONTACT" type="nb(10)"/>
			<field name="VOLUME" type="nb(35)"/>
			<field name="DATE_FILE" type="dt" format="TO_CHAR(DEVPROD.T_OBSERV.DATE_OBS, ''YYYY-MM-DD HH24:MM:SS'') {1} ''{0}''"/>
		</table>
		
		<table name="DEVPROD.T_FILE_OBS">
			<field name="ID_FILE" type="nb(35)"/>
			<field name="ID_OBS" type="nb(35)"/>
		</table>
		
		<table name="DEVPROD.T_OBSERV">
			<field name="ID_OBS" type="nb(35)"/>
			<field name="DATE_OBS" type="dt" format="TO_CHAR(DEVPROD.T_OBSERV.DATE_OBS, ''YYYY-MM-DD HH24:MM:SS'') {1} ''{0}''"/>
			<field name="DATE_END" type="dt" format="TO_CHAR(DEVPROD.T_OBSERV.DATE_END, ''YYYY-MM-DD HH24:MM:SS'') {1} ''{0}''"/>
			<field name="SOLROT_N" type="nb(10)"/>
			<field name="ID_INSTRUME" type="nb(10)"/>
			<field name="ID_WAVEL" type="nb(10)"/>
			<field name="DEC_MER" type="dt"/>
			<field name="ID_FILE" type="nb(35)"/>
			<field name="ID_COMMENT" type="nb(10)"/>
		</table>
		
		<table name="DEVPROD.T_INSTRUME">
			<field name="ID_INSTRUME" type="nb(10)"/>
			<field name="INSTRUME_FR" type="vc2(50)"/>
			<field name="INSTRUME_EN" type="vc2(50)"/>
			<field name="HDR_NAME" type="vc2(20)"/>
			<field name="ID_CONTACT" type="nb(10)"/>
			<field name="ID_INSTITU" type="nb(10)"/>
		</table>
		
		<table name="DEVPROD.T_WAVEL">
			<field name="ID_WAVEL" type="nb(10)"/>
			<field name="NAME" type="vc2(20)"/>
			<field name="MAX_VAL" type="nb(10,2)"/>
			<field name="MIN_VAL" type="nb(10,2)"/>
			<field name="UNIT" type="nb(5)"/>
			<field name="U_NAME" type="vc2(4)"/>
			<field name="DOMAIN_FR" type="vc2(20)"/>
			<field name="SOLAR_ZONE_FR" type="vc2(20)"/>
			<field name="DOMAIN_EN" type="vc2(20)"/>
			<field name="SOLAR_ZONE_EN" type="vc2(20)"/>
		</table>
		
		<table name="DEVPROD.T_DISK">
			<field name="ID_DISK" type="nb(10)"/>
			<field name="LABEL" type="vc2(50)"/>
		</table>
	</structure>
	
	<mapping>
		<param name="instrument" value="yes" map="DEVPROD.T_INSTRUME.ID_INSTRUME">
			<value value="MEUD__MSH" map="0"/><!--Spectroheliograph-->
			<value value="NANC__NRH" map="2"/>
			<value value="NANC__NDA" map="3"/>
			<value value="PDMO__COGHA" map="4"/> <!--CORO H-ALPHA-->
			<value value="NANC__NTRFA" map="5"/> <!--NRH ROUT-->
			<value value="MEUD__MWLT" map="6"/> <!-- MEUDON WHITE LIGHT-->
		</param>
		
		<param name="filename"         value="no"  concat="2"  map1="DEVPROD.T_FILE.NAME" map2="DEVPROD.T_FILE.FORMAT"/>
		<param name="link"             value="no"  concat="5"  map1="#ftp://ftpbass2000.obspm.fr/" map2="DEVPROD.T_DISK.LABEL" map3="DEVPROD.T_FILE.FTP" map4="DEVPROD.T_FILE.NAME" map5="DEVPROD.T_FILE.FORMAT"/>
		<param name="filesize"         value="yes" map="DEVPROD.T_FILE.VOLUME"/>
<!--
		<param name="start-wavelength" value="yes" map="DEVPROD.T_WAVEL.MIN_VAL"/>
		<param name="end-wavelength"   value="yes" map="DEVPROD.T_WAVEL.MAX_VAL"/>
		<param name="wavelength"       value="no"  begin="DEVPROD.T_WAVEL.MIN_VAL" end="DEVPROD.T_WAVEL.MAX_VAL"/>
-->
		<param name="observingdomain"  value="yes" map="DEVPROD.T_WAVEL.MIN_VAL">
			<valueOut value="656.28" map="Visible"/>
			<valueOut value="393.32" map="Visible"/>
			<valueOut value="393.37" map="Visible"/>
			<valueOut value="164"    map="Visible"/>
			<valueOut value="327"    map="Radiowaves"/>
			<valueOut value="1.828"  map="Radiowaves"/>
			<valueOut value="0.917"  map="Radiowaves"/>
			<valueOut value="10"     map="Radiowaves"/>
			<valueOut value="20"     map="Radiowaves"/>
			<valueOut value="656.3"  map="Radiowaves"/>
			<valueOut value="148"    map="Visible"/>
			<valueOut value="6563"   map="Radiowaves"/>
			<valueOut value="3933"   map="Visible"/>
			<valueOut value="3934"   map="Visible"/>
			<valueOut value="5000"   map="Visible"/>
		</param>
		<param name="start-date"       value="yes" map="DEVPROD.T_OBSERV.DATE_OBS"/>
		<param name="time_start"       value="yes" map="DEVPROD.T_OBSERV.DATE_OBS"/>
		<param name="end-date"         value="yes" map="DEVPROD.T_OBSERV.DATE_END"/>
		<param name="time_end"         value="yes" map="DEVPROD.T_OBSERV.DATE_END"/>
		<param name="date"             value="no"  begin="DEVPROD.T_OBSERV.DATE_OBS" end="DEVPROD.T_OBSERV.DATE_END"/>
		<!-- Map parameters from Bass2000 which have no corresponding EGSO parameter -->
		<!-- Alternatively, do not create any mapping -->	
		<!-- EGSO parameters which have no BASS2000 equivalent -->
		<!-- <param name="filesize" value="yes" map="..."/> -->
	
	</mapping>
	
	<info>
		<observatory>
			<instrument name="0" value="meudon__sh"       observatory="Meudon"/>
			<instrument name="6" value="meudon__mwl"      observatory="Meudon"/>
			<instrument name="2" value="nancay__nrh"      observatory="Nancay"/>
			<instrument name="3" value="nancay__dan"      observatory="Nancay"/>
			<instrument name="5" value="nancay__nrhr"     observatory="Nancay"/>
			<instrument name="4" value="pic_du_midi__cha" observatory="Pic du Midi"/>
		</observatory>
	</info>
	
	<options>
		<!-- Redundant element --></options>
</map>

